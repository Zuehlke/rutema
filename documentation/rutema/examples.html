<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta name="author" content="Vassilis Rizopoulos" />
  <meta http-equiv="Content-Type" content="text/html; charset=UTF8" />
  <link rel="stylesheet" href="style.css" type="text/css" />
  <title>Rutema Examples</title>
</head>
<body>
  <div id="page" align="center">
    <div id="content" style="width:800px">
      <div id="logo">
        <div style="margin-top:70px" class="whitetitle">rutema</div>
      </div>
      <div id="topheader">
        <div align="left" class="bodytext">
          <br />
        </div>
      </div>
      <div id="menu">
      </div>
      <div id="submenu">
        <div align="right" class="smallgraytext" style="padding:9px;">
          <a href="../index.html">patir</a> | <a href="index.html">rutema</a> | <a href="rdoc/index.html">rdoc</a>
        </div>
      </div>
      <div id="contenttext">
        <div style="padding:10px">
          <span class="titletext">Rutema Examples</span>
        </div>
        <div class="bodytext" style="padding:12px;" align="justify">
          <h2>Minimal</h2>
          <p>
            Just to get you started, rutema comes with a parser that implements a very small XML-based DSL for test specifications.<br/>
            This by no means means that you need to use XML as the basis for your DSL!<br/>
            The DSL implemented by <a href="">MinimalXMLParser</a> contains the following step elements:
            <ul>
              <li>echo - prints something on stdout</li>
              <li>prompt - prompts for a yes or a no</li>
              <li>command - executes a command line in a shell</li>
            </ul>
            The format of the test specifications in XML reflects the object model used by rutema internally. Each test specification has a <em>description</em> element and a <em>scenario</em> element, the scenario element being the executable part of the specification that contains the actual DSL steps:
            <pre>
&lt;specification name="T006">
  &lt;title>T006&lt;/title>
  &lt;description>A command test&lt;/description>
  &lt;scenario>
    &lt;command cmd="ls"/>
    &lt;echo text="cool"/>
  &lt;/scenario>
&lt;/specification>
</pre>
            The <em>name</em> attribute of the specification element also provides the unique identifier for the test case.<br/>
            Expanding further on the DSL at this point would be futile. Such DSLs are highly project specific and require a certain design expenditure.<br/>
            Instead, assuming we have a bunch of test specifications, let's figure out how to run them.<br/>
            You can use the specs provided in the <a href="https://github.com/damphyr/rutema/blob/master/rutema/examples/">examples</a>. The examples are included in the gem as well. We will assume the structure laid out in the examples but you can choose to array your files any way you like. Just remember that rutema will always evaluate relative paths relative to the file it finds the path in.<br/>
          </p>
          <p>
            The minimum information rutema requires to run a bunch of tests is which parser to use and which tests to run. The minimal configuration file (taken from the <a href="https://github.com/damphyr/rutema/blob/master/rutema/examples/config/minimal.rutema">minimal.rutema</a> example) is:
            <pre>
configuration.parser={:class=>Rutema::MinimalXMLParser}
configuration.tests=[
"../specs/T001.spec",
"../specs/T002.spec",
"../specs/T003.spec",
"../specs/T004.spec",
"../specs/T005.spec",
"../specs/T006.spec"
]
</pre>
			Running <em>minimal.rutema</em> like this <code>rutema -c config/minimal.rutema</code> will give you the following output
			<script src="https://gist.github.com/1405100.js?file=gistfile1.txt"></script>
			There's a lot of things that happen by default here, but the most important thing is that the only feedback you get is on stdout. But we want to collect our results and metrics. <a href="example_db.html">Read on</a> on how to do it.
          </p>
        </div>
      </div>
      <div id="leftpanel">
        <div align="justify" class="graypanel">
          <span class="bodytext"><a href="index.html" class="smallgraytext">Home</a></span><br />
          <span class="smallgraytext">Documentation</span><br />
        </div>
      </div>
      <div id="footer" class="smallgraytext">
        <a href="index.html">Home</a> | <a href="../contact.html">Contact</a> | &copy; 2007 - 2011 Vassilis Rizopoulos</a> 
      </div>
    </div>
  </div>
</body>
</html>